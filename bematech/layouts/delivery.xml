<root cut="full">
  <line align="center" textTransform="bold">{{ company.name }}</line>
  <line align="center" textTransform="bold">{{ company.slogan }}</line>
  <line></line>
  <line align="center" textTransform="bold" fontSize="expanded">#{{ order.store_number }}</line>

  {{#if order.public_number }}
  <line align="center" textTransform="bold" fontSize="expanded">{{ order.public_number }}</line>
  {{/if}}

  <line></line>
  <line align="center" textTransform="bold" fontSize="expanded">{{ order.created_at }}</line>
  <line></line>

  {{#if order.costumer }}
    <line display="inline" textTransform="bold">Cliente: </line>
    <line>{{ order.costumer.name }}</line>
    <line display="inline" textTransform="bold">Contato: </line>
    <line>{{ order.costumer_contact }}</line>
    <line>-------------------------------------------------</line>
  {{/if}}

  <line display="inline" textTransform="bold">Forma do pedido: </line>
  {{#compare order.order_type.alias "===" 'express_delivery_online' }}
    <line>Entrega via site</line>
  {{/compare}}
  {{#compare order.order_type.alias "===" 'express_delivery_phone' }}
    <line>Entrega via telefone</line>
  {{/compare}}
  {{#compare order.order_type.alias "===" 'express_delivery_whatsapp' }}
    <line>Entrega via whatsapp</line>
  {{/compare}}
  {{#compare order.order_type.alias "===" 'express_delivery_facebook' }}
    <line>Entrega via facebook</line>
  {{/compare}}
  {{#compare order.order_type.alias "===" 'express_delivery_ifood' }}
    <line>Entrega via IFOOD</line>
  {{/compare}}
  {{#compare order.order_type.type "===" 'pickup' }}
    <line fontSize="large">Vem buscar na loja</line>
  {{/compare}}
  {{#compare order.order_type.type "===" 'local' }}
    <line fontSize="large">Balcão</line>
  {{/compare}}
  <line>-------------------------------------------------</line>

  {{#compare order.order_type.type "===" 'delivery' }}
    <line display="inline" textTransform="bold">Endereço: </line>
    <line fontSize="large">{{ order.address.completed_address }}</line>
    <line>-------------------------------------------------</line>
  {{/compare}}

  <line textTransform="bold">Produtos do pedido:</line>
  {{#each order.cart.cart_items }}
    {{#unless this.product.acts_like_beverage }}
      {{#unless this.product.acts_like_extra }}
        <line></line>
        <line>{{this.product.name}}</line>

        <line display="inline" textTransform="bold">Quantidade: </line>
        <line display="inline">{{this.amount}}un.</line>
        <line display="inline"> / </line>
        <line display="inline" textTransform="bold">Subtotal: </line>
        {{#compare this.total "===" '0.0'}}
          <line textTransform="bold">Grátis</line>
        {{/compare}}
        {{#compare this.total "!==" '0.0'}}
          <line>R${{ round this.total }}</line>
        {{/compare}}

        {{#if this.note }}
          <line textTransform="bold" display="inline">Observação: </line>
          <line>{{ this.note }}</line>
        {{/if}}
        {{#if this.addons_opt.length }}
          <line display="inline" textTransform="bold">Extras: </line>
          {{#each this.addons_opt }}
            <line display="inline">{{ this.amount }}x {{ this.name }}(R${{ round this.total }})</line>
            {{#compare ../this.addons_opt.length "!=" (inc @index)}}
              <line display="inline"> / </line>
            {{/compare}}
          {{/each}}
          <line></line>
        {{/if}}
      {{/unless }}
    {{/unless }}
  {{/each}}

  {{#each order.cart.cart_items }}
    {{#if this.product.acts_like_extra }}
      <line></line>
      <line>{{this.product.name}}</line>

      <line display="inline" textTransform="bold">Quantidade: </line>
      <line display="inline">{{this.amount}}un.</line>
      <line display="inline"> / </line>
      <line display="inline" textTransform="bold">Subtotal: </line>
      {{#compare this.total "===" '0.0'}}
      <line textTransform="bold">Grátis</line>
      {{/compare}}
      {{#compare this.total "!==" '0.0'}}
      <line>R${{ round this.total }}</line>
      {{/compare}}
    {{/if }}
  {{/each}}

  {{#each order.cart.cart_items }}
    {{#if this.product.acts_like_beverage }}
      <line></line>
      <line fontSize="large">{{this.amount}}x {{this.product.name}}</line>
    {{/if }}
  {{/each}}

  {{#if order.note }}
  <line>-------------------------------------------------</line>
  <line textTransform="bold" display="inline">Observação do pedido: </line>
  <line>{{ order.note }}</line>
  {{/if}}

  <line>-------------------------------------------------</line>
  <line display="inline" textTransform="bold">Forma de pagamento: </line>
  {{#compare order.payment_method.alias "===" 'money'}}
  <line fontSize="large">Dinheiro</line>
  {{/compare}}
  {{#compare order.payment_method.alias "===" 'visa_credit'}}
  <line fontSize="large">Visa crédito</line>
  {{/compare}}
  {{#compare order.payment_method.alias "===" 'visa_debit'}}
  <line fontSize="large">Visa débito</line>
  {{/compare}}
  {{#compare order.payment_method.alias "===" 'master_debit'}}
  <line fontSize="large">Master débito</line>
  {{/compare}}
  {{#compare order.payment_method.alias "===" 'master_credit'}}
  <line fontSize="large">Master crédito</line>
  {{/compare}}
  {{#compare order.payment_method.alias "===" 'elo_credit'}}
  <line fontSize="large">Elo crédito</line>
  {{/compare}}
  {{#compare order.payment_method.alias "===" 'elo_debit'}}
  <line fontSize="large">Elo débito</line>
  {{/compare}}
  {{#compare order.payment_method.alias "===" 'american_express'}}
  <line fontSize="large">American express</line>
  {{/compare}}
  {{#compare order.payment_method.alias "===" 'sodexo'}}
  <line fontSize="large">Sodexo</line>
  {{/compare}}
  {{#compare order.payment_method.alias "===" 'green_card'}}
  <line fontSize="large">Green Card</line>
  {{/compare}}
  {{#compare order.payment_method.alias "===" 'alelo_refeicao'}}
  <line fontSize="large">Alelo refeição</line>
  {{/compare}}
  {{#compare order.payment_method.alias "===" 'alelo_alimentacao'}}
  <line fontSize="large">Alelo alimentação</line>
  {{/compare}}
  {{#compare order.payment_method.alias "===" 'ticket_alimentacao'}}
  <line fontSize="large">Ticket alimentação</line>
  {{/compare}}
  {{#compare order.payment_method.alias "===" 'ticket_refeicao'}}
  <line fontSize="large">Ticket refeição</line>
  {{/compare}}
  {{#compare order.payment_method.alias "===" 'ifood'}}
  <line fontSize="large">Pago online (não cobrar)</line>
  {{/compare}}
  <line>-------------------------------------------------</line>
  <line display="inline" textTransform="bold">Valor total: </line>

  {{#compare order.order_type.type "!==" 'delivery' }}
  <line fontSize="large">R${{ round order.total }}</line>
  {{/compare}}

  {{#compare order.order_type.type "===" 'delivery' }}
  <line fontSize="large">R${{ round order.total }} (R${{ round order.shipping }} de entrega)</line>
  {{/compare}}
  {{#if order.discount_total }}
    <line>* Foi concedido um desconto de R${{ round order.discount_total }}.</line>
  {{/if}}
  {{#if order.change }}
    <line>-------------------------------------------------</line>
    <line display="inline" textTransform="bold">Troco: </line>
    <line fontSize="large">R${{ round order.change }} (Levar R${{ round order.change_to_send }})</line>
  {{/if}}
  {{#if order.costumer }}
    <line>-------------------------------------------------</line>
    <line display="inline">Ei </line>
    <line display="inline" textTransform="bold">{{ order.costumer.first_name }}</line>
    <line>, após receber o seu pedido, que tal fazer uma avaliação?</line>
  {{/if}}

</root>
